# polyglot-ddd-labについて

## 背景と目的
- DDDや関数型プログラミングなど現代的な設計スタイルでプロダクトを作りながら、設計・実装・意思決定の経験値を得る。
- 各種言語でアーキテクチャ検討と実装を繰り返し、言語特性による差分を学ぶ。

## プロダクトドメイン
- テーマ: 予約・需要調整（コワーキングスペース/会議室）
- 想定する主要なサブドメイン/境界づけられたコンテキスト
  - 予約管理（コア）: 予約状態遷移、キャンセルポリシー、在庫カレンダー
  - 価格/需要調整（コア）: ダイナミックプライス、需要シグナル取り込み
  - 決済・請求（一般）: 支払い、返金、請求書
  - アカウント/認証（補完）: ユーザー、ロール
  - カレンダー連携/通知（補完）: 外部カレンダー、通知送出

## スコープ（最小限だがDDD練習に必要なもの）
- データベース定義とORマッパー
- 集約の取得・更新、値オブジェクト
- ドメインイベント、メッセージ駆動でのコンテキスト連携
- CQRS（コマンドとクエリの分離）
- モジュラーモノリス構成
- テスト駆動開発
- スコープ外は最小実装にとどめる（例: UI、外部サービスの完全実装など）

## 進め方（フェーズ）
1. **要求仕様書作成**: AIアドバイザと学習者で案を練り、最終的に学習者が承認。
2. **初期言語(Kotlin)のアーキテクチャ検討と技術選定**: 設計案と技術選択を議論し、学習者が承認。
3. **Kotlin実装**: AIアドバイザはヒント提供・レビューに徹し、学習者が実装・テストを完了。
4. **他言語で再現 (Go / Rust / TypeScript)**: それぞれでアーキテクチャ検討と技術選定を議論し承認。
5. **各言語での実装**: AIアドバイザは補助に徹し、学習者が実装・テストを完了。
6. **同一要求仕様を各言語で複製**: アーキテクチャ/技術選定と実装を繰り返し、言語差分を学ぶ。

## 設計・実装スタンス
- DDDの基本原則（境界づけられたコンテキスト、ユビキタス言語、集約/リポジトリ/ドメインサービス、イベント）を明示的に扱う。
- シンプルさを優先しつつ、適度な複雑さを保持（在庫/時間枠、価格調整、キャンセルポリシー、外部連携）。
- 各フェーズでの意思決定理由をドキュメント化し、言語横断の学びを蓄積。

## 想定プラクティス
- TDDまたはテストファーストの姿勢で進め、要求仕様に合うテストケースを整備。
- CQRSとイベントでコンテキスト間を結合し、モジュラーモノリス内で疎結合を意識。
- 外部連携（カレンダー/決済）は最小限のスタブやポート/アダプタで表現。
